import { Map } from 'immutable';

import * as actionTypes from './constants';

const defaultState = Map({
  currentSong:{},
  playList:[
    {
      "name": "summertime",
      "id": 531786301,
      "pst": 0,
      "t": 0,
      "ar": [
        {
          "id": 12603665,
          "name": "cinnamons",
          "tns": [],
          "alias": []
        },
        {
          "id": 12440166,
          "name": "evening cinema",
          "tns": [],
          "alias": []
        }
      ],
      "alia": [],
      "pop": 100,
      "st": 0,
      "rt": null,
      "fee": 0,
      "v": 14,
      "crbt": null,
      "cf": "",
      "al": {
        "id": 37313313,
        "name": "summertime",
        "picUrl": "https://p2.music.126.net/YOh14VmZHW6riDYUeIkjeA==/109951163115353027.jpg",
        "tns": [],
        "pic_str": "109951163115353027",
        "pic": 109951163115353020
      },
      "dt": 251866,
      "h": {
        "br": 320000,
        "fid": 0,
        "size": 10074950,
        "vd": -11100
      },
      "m": {
        "br": 192000,
        "fid": 0,
        "size": 6044987,
        "vd": -8700
      },
      "l": {
        "br": 128000,
        "fid": 0,
        "size": 4030006,
        "vd": -7300
      },
      "a": null,
      "cd": "1",
      "no": 1,
      "rtUrl": null,
      "ftype": 0,
      "rtUrls": [],
      "djId": 0,
      "copyright": 0,
      "s_id": 0,
      "mark": 262144,
      "originCoverType": 1,
      "originSongSimpleData": null,
      "single": 0,
      "noCopyrightRcmd": null,
      "rtype": 0,
      "rurl": null,
      "mst": 9,
      "cp": 663018,
      "mv": 0,
      "publishTime": 1502035200000
    },
    {
      "name": "过",
      "id": 1804879213,
      "pst": 0,
      "t": 0,
      "ar": [
        {
          "id": 1083118,
          "name": "王嘉尔",
          "tns": [],
          "alias": []
        },
        {
          "id": 3684,
          "name": "林俊杰",
          "tns": [],
          "alias": []
        }
      ],
      "alia": [],
      "pop": 100,
      "st": 0,
      "rt": "",
      "fee": 8,
      "v": 4,
      "crbt": null,
      "cf": "",
      "al": {
        "id": 120521903,
        "name": "过",
        "picUrl": "https://p2.music.126.net/fwXShM46KdIj3hB8_lJ71g==/109951165545588869.jpg",
        "tns": [],
        "pic_str": "109951165545588869",
        "pic": 109951165545588860
      },
      "dt": 203786,
      "h": {
        "br": 320000,
        "fid": 0,
        "size": 8154427,
        "vd": -55279
      },
      "m": {
        "br": 192000,
        "fid": 0,
        "size": 4892674,
        "vd": -52694
      },
      "l": {
        "br": 128000,
        "fid": 0,
        "size": 3261797,
        "vd": -51103
      },
      "a": null,
      "cd": "01",
      "no": 1,
      "rtUrl": null,
      "ftype": 0,
      "rtUrls": [],
      "djId": 0,
      "copyright": 0,
      "s_id": 0,
      "mark": 8192,
      "originCoverType": 1,
      "originSongSimpleData": null,
      "single": 0,
      "noCopyrightRcmd": null,
      "mv": 14212561,
      "rtype": 0,
      "rurl": null,
      "mst": 9,
      "cp": 1416731,
      "publishTime": 0

},
    {
      "name": "最佳歌手",
      "id": 412902950,
      "pst": 0,
      "t": 0,
      "ar": [
        {
          "id": 5771,
          "name": "许嵩",
          "tns": [],
          "alias": []
        }
      ],
      "alia": [],
      "pop": 100,
      "st": 0,
      "rt": null,
      "fee": 8,
      "v": 21,
      "crbt": null,
      "cf": "",
      "al": {
        "id": 34749138,
        "name": "青年晚报",
        "picUrl": "https://p2.music.126.net/Wcs2dbukFx3TUWkRuxVCpw==/3431575794705764.jpg",
        "tns": [],
        "pic": 3431575794705764
      },
      "dt": 267816,
      "h": {
        "br": 320000,
        "fid": 0,
        "size": 10715471,
        "vd": -23900
      },
      "m": {
        "br": 192000,
        "fid": 0,
        "size": 6429300,
        "vd": -21300
      },
      "l": {
        "br": 128000,
        "fid": 0,
        "size": 4286214,
        "vd": -19700
      },
      "a": null,
      "cd": "1",
      "no": 3,
      "rtUrl": null,
      "ftype": 0,
      "rtUrls": [],
      "djId": 0,
      "copyright": 0,
      "s_id": 0,
      "mark": 8192,
      "originCoverType": 1,
      "originSongSimpleData": null,
      "single": 0,
      "noCopyrightRcmd": null,
      "mv": 5302410,
      "cp": 14026,
      "rtype": 0,
      "rurl": null,
      "mst": 9,
      "publishTime": 1463673600007

},
    {

          "name": "我乐意",
          "id": 554191378,
          "pst": 0,
          "t": 0,
          "ar": [
            {
              "id": 5771,
              "name": "许嵩",
              "tns": [],
              "alias": []
            }
          ],
          "alia": [],
          "pop": 100,
          "st": 0,
          "rt": null,
          "fee": 8,
          "v": 8,
          "crbt": null,
          "cf": "",
          "al": {
            "id": 38373470,
            "name": "我乐意",
            "picUrl": "https://p2.music.126.net/dwvPvZ3HL_nzRoZHJP_KJw==/109951163261278540.jpg",
            "tns": [],
            "pic_str": "109951163261278540",
            "pic": 109951163261278540
          },
          "dt": 242436,
          "h": {
            "br": 320000,
            "fid": 0,
            "size": 9699831,
            "vd": -21400
          },
          "m": {
            "br": 192000,
            "fid": 0,
            "size": 5819916,
            "vd": -18900
          },
          "l": {
            "br": 128000,
            "fid": 0,
            "size": 3879959,
            "vd": -17100
          },
          "a": null,
          "cd": "1",
          "no": 1,
          "rtUrl": null,
          "ftype": 0,
          "rtUrls": [],
          "djId": 0,
          "copyright": 0,
          "s_id": 0,
          "mark": 8192,
          "originCoverType": 1,
          "originSongSimpleData": null,
          "single": 0,
          "noCopyrightRcmd": null,
          "mv": 0,
          "rurl": null,
          "cp": 14026,
          "mst": 9,
          "rtype": 0,
          "publishTime": 1524067200000
        },
  ],
  currentSongIndex:0,
  sequence:0, // 0 列表循环 1 随机播放 2 单曲循环
  lyricList:[],
  currentLyricIndex:0
});

function reducer(state =defaultState,action){
  switch (action.type){
    case actionTypes.CHANGE_CURRENT_SONG:
      return state.set('currentSong',action.currentSong)
    case actionTypes.CHANGE_PLAY_LIST:
      return state.set('playList',action.playList);
    case actionTypes.CHANGE_CURRENT_SONG_INDEX:
      return state.set('currentSongIndex',action.index);
    case actionTypes.CHANGE_SEQUENCE:
      return state.set('sequence',action.sequence);
    case actionTypes.CHANGE_LYRIC_LIST:
      return state.set('lyricList',action.lyricList);
    case actionTypes.CHANGE_CURRENT_LYRIC_INDEX:
      return state.set('currentLyricIndex',action.currentLyricIndex)
    default:
      return state;
  }
}

export default reducer;